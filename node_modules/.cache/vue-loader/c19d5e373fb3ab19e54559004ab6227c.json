{"remainingRequest":"/Users/kimjngyun/frontend/sketch2art/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimjngyun/frontend/sketch2art/src/components/ImageCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kimjngyun/frontend/sketch2art/src/components/ImageCard.vue","mtime":1621592688684},{"path":"/Users/kimjngyun/frontend/sketch2art/node_modules/babel-loader/lib/index.js","mtime":1619154893880},{"path":"/Users/kimjngyun/frontend/sketch2art/node_modules/cache-loader/dist/cjs.js","mtime":1619073328948},{"path":"/Users/kimjngyun/frontend/sketch2art/node_modules/vue-loader/lib/index.js","mtime":1619154896205}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW1hZ2VDYXJkJywKICBwcm9wczogewogICAgaW1hZ2U6IG1hcEdldHRlcnMoJ2dldEltYWdlcycpCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgaXNQcm9jZXNzZWQ6IGZhbHNlLAogICAgLy8gc3R5bGU6IDEwLAogICAgdGVtcDA6IG51bGwsCiAgICB0ZW1wMTogbnVsbCwKICAgIHRlbXAyOiBudWxsLAogICAgdGVtcDM6IG51bGwKICB9KSwKCiAgbWV0aG9kczogewogICAgZGF0YVVSTHRvRmlsZSAoZGF0YVVSTCwgZmlsZU5hbWUpIHsKICAgICAgY29uc3QgYXJyID0gZGF0YVVSTC5zcGxpdCgnLCcpCiAgICAgIGNvbnN0IG1pbWUgPSBhcnJbMF0ubWF0Y2goLzooLio/KTsvKVsxXQogICAgICBjb25zdCBic3RyID0gYXRvYihhcnJbMV0pCiAgICAgIGxldCBuID0gYnN0ci5sZW5ndGg7CiAgICAgIGNvbnN0IHU4YXJyID0gbmV3IFVpbnQ4QXJyYXkobikKCiAgICAgIHdoaWxlIChuLS0pIHsKICAgICAgICB1OGFycltuXSA9IGJzdHIuY2hhckNvZGVBdChuKQogICAgICB9CgogICAgICByZXR1cm4gbmV3IEZpbGUoW3U4YXJyXSwgZmlsZU5hbWUsIHt0eXBlOiBtaW1lfSkKICAgIH0sCiAgICBzdWJtaXQgKCkgewoKICAgIH0sCiAgICBhc3luYyBzdHlsaXplICgpIHsKICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRlbnRJbWFnZScsIHRoaXMuZGF0YVVSTHRvRmlsZSh0aGlzLmltYWdlLm9yaWdpbmFsKSkKCiAgICAgIGNvbnN0IGJhc2VVUkwgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVybE9mKCdzdHlsZVRyYW5zZmVyU2VydmVyJykKICAgICAgY29uc3QgYXBpVVJMID0gYCR7YmFzZVVSTH0vYXBpL3N0eWxpemVgCgogICAgICBmb3IgKHZhciBpPTA7IGk8NDsgaSsrKXsKICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLnBvc3QoYXBpVVJMLCBmb3JtRGF0YSwgewogICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInCiAgICAgICAgfSkKICAgICAgICBjb25zdCBzdHlsZWRJbWFnZVVSTCA9CiAgICAgICAgICAnZGF0YTonICsKICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICsKICAgICAgICAgICc7YmFzZTY0LCcgKwogICAgICAgICAgQnVmZmVyLmZyb20ocmVzcG9uc2UuZGF0YSwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKSAKICAgICAgICBzd2l0Y2ggKGkpewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICB0aGlzLnRlbXAwID0gc3R5bGVkSW1hZ2VVUkwKICAgICAgICAgICAgYnJlYWsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgdGhpcy50ZW1wMSA9IHN0eWxlZEltYWdlVVJMCiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHRoaXMudGVtcDIgPSBzdHlsZWRJbWFnZVVSTAogICAgICAgICAgICBicmVhawogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICB0aGlzLnRlbXAzID0gc3R5bGVkSW1hZ2VVUkwKICAgICAgICAgICAgYnJlYWsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5pc1Byb2Nlc3NlZCA9IHRydWUKICAgIH0KICB9LAoKICB3YXRjaDogewogICAgaW1hZ2U6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zdHlsaXplKCkKICAgIH0sCiAgICBjaGVja19pbWFnZSAoaW1nKSB7IAogICAgICB0aGlzLmltYWdlID0gaW1nIAogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLnN0eWxpemUoKQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNoZWNrX2ltYWdlICgpIHsgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0SW1hZ2VzWzBdIH0KICB9Cn0K"},{"version":3,"sources":["ImageCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageCard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"wrap\">\n  \n    <div v-if=\"isProcessed===false\"><img id=\"null\" src=\"../assets/1.jpg\" /></div>\n    <div v-else class=\"inf\">\n      <img id=\"i0\" :src=\"temp0\" />\n      <img id=\"i1\" :src=\"temp1\" />\n      <img id=\"i2\" :src=\"temp2\" />\n      <img id=\"i3\" :src=\"temp3\" />\n    </div>\n    <br/>\n  <div>\n    <v-btn v-on:click=\"change\" text color=\"black\" outlined elevation=\"0\">변경</v-btn>\n  </div>\n    \n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { mapGetters } from 'vuex'\nexport default {\n  name: 'ImageCard',\n  props: {\n    image: mapGetters('getImages')\n  },\n  data: () => ({\n    isProcessed: false,\n    // style: 10,\n    temp0: null,\n    temp1: null,\n    temp2: null,\n    temp3: null\n  }),\n\n  methods: {\n    dataURLtoFile (dataURL, fileName) {\n      const arr = dataURL.split(',')\n      const mime = arr[0].match(/:(.*?);/)[1]\n      const bstr = atob(arr[1])\n      let n = bstr.length;\n      const u8arr = new Uint8Array(n)\n\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n)\n      }\n\n      return new File([u8arr], fileName, {type: mime})\n    },\n    submit () {\n\n    },\n    async stylize () {\n      const formData = new FormData()\n      formData.append('contentImage', this.dataURLtoFile(this.image.original))\n\n      const baseURL = this.$store.getters.urlOf('styleTransferServer')\n      const apiURL = `${baseURL}/api/stylize`\n\n      for (var i=0; i<4; i++){\n        const response = await axios.post(apiURL, formData, {\n          responseType: 'arraybuffer'\n        })\n        const styledImageURL =\n          'data:' +\n          response.headers['content-type'] +\n          ';base64,' +\n          Buffer.from(response.data, 'binary').toString('base64') \n        switch (i){\n          case 0:\n            this.temp0 = styledImageURL\n            break\n          case 1:\n            this.temp1 = styledImageURL\n            break\n          case 2:\n            this.temp2 = styledImageURL\n            break\n          case 3:\n            this.temp3 = styledImageURL\n            break\n        }\n      }\n      this.isProcessed = true\n    }\n  },\n\n  watch: {\n    image: function () {\n      this.stylize()\n    },\n    check_image (img) { \n      this.image = img \n    }\n  },\n  mounted () {\n    this.stylize()\n  },\n  computed: {\n    check_image () { return this.$store.getters.getImages[0] }\n  }\n}\n</script>\n\n<style scoped>\n#wrapIC {\n  display: flex;\n  width: 512px;\n}\n#null {\n  width: 512px;\n  height: 512px;\n\n}\nimg {\n  width: 256px;\n  height: 256px;\n}\n.inf {\n  display: felx;\n  flex-flow:column nowrap;\n  width: 512px;\n  margin: 0;\n  line-height: 0;\n}\n.inf img{\n  flex: 2 2 0;\n}\n</style>\n"]}]}