{"remainingRequest":"/Users/kimjngyun/frontend/sketch2art/node_modules/babel-loader/lib/index.js!/Users/kimjngyun/frontend/sketch2art/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kimjngyun/frontend/sketch2art/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimjngyun/frontend/sketch2art/src/components/ImageCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kimjngyun/frontend/sketch2art/src/components/ImageCard.vue","mtime":1619720501139},{"path":"/Users/kimjngyun/frontend/sketch2art/node_modules/cache-loader/dist/cjs.js","mtime":1619073328948},{"path":"/Users/kimjngyun/frontend/sketch2art/node_modules/babel-loader/lib/index.js","mtime":1619154893880},{"path":"/Users/kimjngyun/frontend/sketch2art/node_modules/cache-loader/dist/cjs.js","mtime":1619073328948},{"path":"/Users/kimjngyun/frontend/sketch2art/node_modules/vue-loader/lib/index.js","mtime":1619154896205}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9raW1qbmd5dW4vZnJvbnRlbmQvc2tldGNoMmFydC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubGFzdC1pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJlZHVjZS1yaWdodC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnJldmVyc2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zZXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb3J0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc3ViYXJyYXkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1sb2NhbGUtc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW1hZ2VDYXJkJywKICBwcm9wczogewogICAgaW1hZ2U6IE9iamVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzUHJvY2Vzc2VkOiBmYWxzZSwKICAgICAgc3R5bGU6IC0xLAogICAgICBzdHlsZXM6IFsnb3JpZ2luYWwnLCAnMCcsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcxMCddLAogICAgICBzdHlsZU5hbWVzOiBbJ2NhbmR5JywgJ2NvbXBvc2l0aW9uXzcnLCAnZmVhdGhlcnMnLCAnbGFfbXVzZScsICdtb3NhaWMnLCAncmFpbicsICdzdGFycnlfbmlnaHQnLCAndGhlX3NjcmVhbScsICd0aGVfd2F2ZScsICd1ZG5pZSddIC8vIFRPRE86IFJFTkFNRQoKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBkYXRhVVJMdG9GaWxlOiBmdW5jdGlvbiBkYXRhVVJMdG9GaWxlKGRhdGFVUkwsIGZpbGVOYW1lKSB7CiAgICAgIHZhciBhcnIgPSBkYXRhVVJMLnNwbGl0KCcsJyk7CiAgICAgIHZhciBtaW1lID0gYXJyWzBdLm1hdGNoKC86KC4qPyk7LylbMV07CiAgICAgIHZhciBic3RyID0gYXRvYihhcnJbMV0pOwogICAgICB2YXIgbiA9IGJzdHIubGVuZ3RoOwogICAgICB2YXIgdThhcnIgPSBuZXcgVWludDhBcnJheShuKTsKCiAgICAgIHdoaWxlIChuLS0pIHsKICAgICAgICB1OGFycltuXSA9IGJzdHIuY2hhckNvZGVBdChuKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBGaWxlKFt1OGFycl0sIGZpbGVOYW1lLCB7CiAgICAgICAgdHlwZTogbWltZQogICAgICB9KTsKICAgIH0sCiAgICBzdHlsaXplOiBmdW5jdGlvbiBzdHlsaXplKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZm9ybURhdGEsIGJhc2VVUkwsIGFwaVVSTCwgcmVzcG9uc2UsIHN0eWxlZEltYWdlVVJMOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnN0eWxlID09PSAtMSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLmlzUHJvY2Vzc2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgLy8gVE9ETzogY2xhc3Psl5AgbG9hZGluZyDrhKPquLAgCiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdzdHlsZScsIF90aGlzLnN0eWxlKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY29udGVudEltYWdlJywgX3RoaXMuZGF0YVVSTHRvRmlsZShfdGhpcy5pbWFnZS5vcmlnaW5hbCwgInN0eWxlZF8iLmNvbmNhdChfdGhpcy5zdHlsZSkpKTsKICAgICAgICAgICAgICAgIGJhc2VVUkwgPSBfdGhpcy4kc3RvcmUuZ2V0dGVycy51cmxPZignc3R5bGVUcmFuc2ZlclNlcnZlcicpOwogICAgICAgICAgICAgICAgYXBpVVJMID0gIiIuY29uY2F0KGJhc2VVUkwsICIvYXBpL3N0eWxpemUiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KGFwaVVSTCwgZm9ybURhdGEsIHsKICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHN0eWxlZEltYWdlVVJMID0gJ2RhdGE6JyArIHJlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICsgJztiYXNlNjQsJyArIEJ1ZmZlci5mcm9tKHJlc3BvbnNlLmRhdGEsICdiaW5hcnknKS50b1N0cmluZygnYmFzZTY0Jyk7CiAgICAgICAgICAgICAgICBfdGhpcy5pbWFnZS5wcm9jZXNzZWQgPSBzdHlsZWRJbWFnZVVSTDsKICAgICAgICAgICAgICAgIF90aGlzLmlzUHJvY2Vzc2VkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBzdHlsZTogZnVuY3Rpb24gc3R5bGUoKSB7CiAgICAgIHRoaXMuc3R5bGl6ZSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ImageCard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-card>\n      <img v-if=\"!isProcessed\" :src=\"image.original\" />\n      <img v-else :src=\"image.processed\" />\n\n      <v-card-subtitle\n        v-if=\"!isProcessed\"\n        class=\"pb-0\"\n      >\n        Original Image\n      </v-card-subtitle>\n\n      <v-card-subtitle\n        v-else\n        class=\"pb-0\"\n      >\n      Styled Image with Style <b> \"{{ styleNames[style] }}\" </b>\n      </v-card-subtitle>\n\n      <v-card-text class=\"text--primary mb-8\">\n        <div>스타일 번호를 선택하세요.</div>\n        <v-slider\n          v-model=\"style\"\n          :tick-labels=\"styles\"\n          :min=\"-1\"\n          :max=\"10\"\n          step=\"1\"\n          ticks=\"always\"\n          label=\"Style Number\"\n          hide-details=\"true\"\n          solo\n        >\n        </v-slider>\n      </v-card-text>\n    </v-card>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'ImageCard',\n\n  props: {\n    image: Object\n  },\n\n  data: () => ({\n    isProcessed: false,\n    style: -1,\n    styles: ['original', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10'],\n    styleNames: ['candy', 'composition_7', 'feathers', 'la_muse', 'mosaic', 'rain', 'starry_night', 'the_scream', 'the_wave', 'udnie'] // TODO: RENAME\n  }),\n\n  methods: {\n    dataURLtoFile (dataURL, fileName) {\n      const arr = dataURL.split(',')\n      const mime = arr[0].match(/:(.*?);/)[1]\n      const bstr = atob(arr[1])\n      let n = bstr.length;\n      const u8arr = new Uint8Array(n)\n\n      while (n--) {\n        u8arr[n] = bstr.charCodeAt(n)\n      }\n\n      return new File([u8arr], fileName, {type: mime})\n    },\n\n    async stylize () {\n      if (this.style === -1) {\n        this.isProcessed = false\n        return\n      }\n\n      // TODO: class에 loading 넣기 \n      const formData = new FormData()\n\n      formData.append('style', this.style)\n      formData.append('contentImage', this.dataURLtoFile(this.image.original, `styled_${this.style}`))\n\n      const baseURL = this.$store.getters.urlOf('styleTransferServer')\n      const apiURL = `${baseURL}/api/stylize`\n\n      const response = await axios.post(apiURL, formData, {\n        responseType: 'arraybuffer'\n      })\n      const styledImageURL =\n        'data:' +\n        response.headers['content-type'] +\n        ';base64,' +\n        Buffer.from(response.data, 'binary').toString('base64') \n\n      this.image.processed = styledImageURL\n      this.isProcessed = true\n    }\n  },\n\n  watch: {\n    style () {\n      this.stylize()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.v-input {\n  font-size: 10px;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}